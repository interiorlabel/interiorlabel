<!DOCTYPE html>
<html>
<head>
    <title>Protocol - Works</title>
    <style>

        @font-face {
    font-family: 'ES Allianz TRIAL';
    src: url('ESAllianzTRIAL-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

        body {
            margin: 0;
            padding: 0;
            background-color: black;
            font-family:'ES Allianz TRIAL';
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative; 
        }

        .back-arrow {
            position: fixed;
            top: 30px;
            left: 20px;
            font-size: 18px;
            color: grey;
            cursor: pointer;
            text-decoration: none;
            z-index: 100;
        }

        .back-arrow:hover {
            color: #ffffff;
        }

        .bandcamp-link {
            position: fixed;
            top: 30px;
            right: 18px;
            font-size: 14px;
            color: grey;
            cursor: pointer;
            text-decoration: underline;
            z-index: 100;
        }

        .bandcamp-link:hover {
            color: #ffffff;
        }

        .title {
            color: grey;
            font-size: 20px;
            text-align: center;
            margin-bottom: 80px;
        }

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .right-section {
            display: flex;  
            gap: 80px; 
        }

        .track-item {
            color: grey;
            font-size: 16px; 
            cursor: pointer;
        }

        .track-item:hover {
            color: #ffffff;
        }

        .play-icon {
            font-size: 15px;
            color: grey; 
        }

        .description {
            color: grey;
            font-size: 11px;
            text-align: center;
            margin-top: 80px; 
            line-height: 1.6;
        }

        .down-arrow {
            position: absolute;
            bottom: 30px; 
            left: 50%; 
            transform: translateX(-50%); 
            font-size: 24px;
            color: grey;
            cursor: pointer;
            text-decoration: none;
            z-index: 100;
        }

        .down-arrow:hover {
            color: #ffffff;
        }

        .scroll-down {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            color: grey;
            font-size: 14px;
            text-transform: lowercase;
            z-index: 100;
            pointer-events: none; 
        }
    </style>
</head>
<body>

    <div class="scroll-down">scroll down</div>

    <a href="index.html" class="back-arrow">←</a>

    <a href="https://interiorr.bandcamp.com/" class="bandcamp-link" target="_blank">bandcamp</a>
    
    <div class="container">
        <div class="title">INTERIØR 1</div>
        
        <div class="right-section">
            <div class="track-item" onclick="playAudio('Untitled291.wav', this)">
                <span class="play-icon">▶</span>
                <span>untitled 291</span>
            </div>
            <div class="track-item" onclick="playAudio('Untitled292.wav', this)">
                <span class="play-icon">▶</span>
                <span>untitled 292</span>
            </div>
            <div class="track-item" onclick="playAudio('Untitled293.wav', this)">
                <span class="play-icon">▶</span>
                <span>untitled 293</span>
            </div>
            <div class="track-item" onclick="playAudio('Untitled294.wav', this)">
                <span class="play-icon">▶</span>
                <span>untitled 294</span> 
            </div>
        </div>

        <div class="description">
            150 copies on vinyl to be released in March 2026.<br>
            Composed in London by Felipe Pinto.
        </div>
    </div>

    <audio id="audioPlayer" preload="auto"></audio>

    <script>
        let hasScrolled = false; 

        window.addEventListener('scroll', function() {
            if (!hasScrolled) { 
                hasScrolled = true; 
                window.location.href = 'nextPage.html'; 
            }
        });

        const audioPlayers = {};

        // Preload audio tracks
        const trackFiles = ['Untitled291.wav', 'Untitled292.wav', 'Untitled293.wav', 'Untitled294.wav'];

        trackFiles.forEach(track => {
            const audioTag = new Audio(track);
            audioTag.preload = "auto"; 
            audioPlayers[track] = audioTag; 
        });

        function playAudio(track, element) {
            const audio = audioPlayers[track];

            // Pause all other audio tracks and reset their icons
            for (const audioTrack in audioPlayers) {
                if (audioTrack !== track) {
                    audioPlayers[audioTrack].pause();
                }
            }

            // Reset all play icons
            const allTracks = document.querySelectorAll('.track-item');
            allTracks.forEach(item => {
                item.querySelector('.play-icon').textContent = '▶';
            });

            // Toggle play/pause for the selected track
            if (audio.paused) {
                audio.play();
                element.querySelector('.play-icon').textContent = '⏸';
            } else {
                audio.pause();
                element.querySelector('.play-icon').textContent = '▶';
            }

            // Reset icon when audio ends
            audio.onended = function() {
                element.querySelector('.play-icon').textContent = '▶';
            };
        }
    </script>
</body>
</html>
